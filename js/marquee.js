!function(e){e.fn.marquee=function(a){return this.each(function(){function t(){if(f&&p.allowCss3Support)return i.css(l,"paused");e.fn.pause&&(i.pause(),u.trigger("paused"))}function r(){if(f&&p.allowCss3Support)return i.css(l,"running");e.fn.resume&&(i.resume(),u.trigger("resumed"))}var i,n,s,o,d,p=e.extend({},e.fn.marquee.defaults,a),u=e(this),l="animation-play-state",f=!1;void 0!==u.data().delaybeforestart&&(u.data().delayBeforeStart=u.data().delaybeforestart,delete u.data().delaybeforestart),void 0!==u.data().pauseonhover&&(u.data().pauseOnHover=u.data().pauseonhover,delete u.data().pauseonhover),void 0!==u.data().pauseoncycle&&(u.data().pauseOnCycle=u.data().pauseoncycle,delete u.data().pauseoncycle),void 0!==u.data().allowcss3support&&(u.data().allowCss3Support=u.data().allowcss3support,delete u.data().allowcss3support),(p=e.extend({},p,u.data())).duration=p.speed||p.duration,o="up"==p.direction||"down"==p.direction,p.gap=p.duplicated?p.gap:0,u.wrapInner('<div class="js-marquee"></div>');var c=u.find(".js-marquee").css({"margin-right":p.gap,float:"left"});if(p.duplicated&&c.clone().appendTo(u),u.wrapInner('<div style="width:100000px" class="js-marquee-wrapper"></div>'),i=u.find(".js-marquee-wrapper"),o){var m=u.height();i.removeAttr("style"),u.height(m),u.find(".js-marquee").css({float:"none","margin-bottom":p.gap,"margin-right":0}),p.duplicated&&u.find(".js-marquee:last").css({"margin-bottom":0});var g=u.find(".js-marquee:first").height()+p.gap;p.duration=(parseInt(g,10)+parseInt(m,10))/parseInt(m,10)*p.duration}else d=u.find(".js-marquee:first").width()+p.gap,n=u.width(),p.duration=(parseInt(d,10)+parseInt(n,10))/parseInt(n,10)*p.duration;if(p.duplicated&&(p.duration=p.duration/2),p.allowCss3Support){var h=document.body||document.createElement("div"),v="marqueeAnimation-"+Math.floor(1e7*Math.random()),y="Webkit Moz O ms Khtml".split(" "),w="animation",x="",q=e("style"),S="";if(h.style.animation&&(S="@keyframes "+v+" ",f=!0),!1===f)for(var b=0;b<y.length;b++)if(void 0!==h.style[y[b]+"AnimationName"]){var j="-"+y[b].toLowerCase()+"-";w=j+w,l=j+l,S="@"+j+"keyframes "+v+" ",f=!0;break}f&&(x=v+" "+p.duration/1e3+"s "+p.delayBeforeStart/1e3+"s infinite "+p.css3easing)}var C=function(){if(o?p.duplicated?(i.css("margin-top","up"==p.direction?0:"-"+g+"px"),s={"margin-top":"up"==p.direction?"-"+g+"px":0}):(i.css("margin-top","up"==p.direction?m+"px":"-"+g+"px"),s={"margin-top":"up"==p.direction?"-"+i.height()+"px":m+"px"}):p.duplicated?(i.css("margin-left","left"==p.direction?0:"-"+d+"px"),s={"margin-left":"left"==p.direction?"-"+d+"px":0}):(i.css("margin-left","left"==p.direction?n+"px":"-"+d+"px"),s={"margin-left":"left"==p.direction?"-"+d+"px":n+"px"}),u.trigger("beforeStarting"),f){i.css(w,x);var a=S+" { 100%  "+function(e){var a=[];for(var t in e)e.hasOwnProperty(t)&&a.push(t+":"+e[t]);return a.push(),"{"+a.join(",")+"}"}(s)+"}";0!=q.length?q.last().append(a):e("head").append("<style>"+a+"</style>")}else i.animate(s,p.duration,p.easing,function(){u.trigger("finished"),p.pauseOnCycle?setTimeout(C,p.delayBeforeStart):C()})};u.bind("pause",t),u.bind("resume",r),p.pauseOnHover&&u.hover(t,r),f&&p.allowCss3Support?C():setTimeout(C,p.delayBeforeStart)})},e.fn.marquee.defaults={allowCss3Support:!0,css3easing:"linear",easing:"linear",delayBeforeStart:0,direction:"left",duplicated:!1,duration:5e3,gap:20,pauseOnCycle:!1,pauseOnHover:!1}}(jQuery);