function loadMenu(n,t){var o;setYellowButtonText(),unbindFsClickEvents(),$("#fs_MenuContainer").remove(),$("#fs_MenuContainerBack").append('<div id="fs_MenuContainer"></div>'),$("#fs_chanMenu").show(),$("#topGroupList").html(""),menuChannelCount=channelCount,"All"!=activeGroup?(n==pageCount?tailItems=activeGroupLength-(n-1)*pageItems:tailItems=pageItems,countStart=activeGroupStart+(n-1)*pageItems,countStop=countStart+tailItems):(favList?(menuChannelCount-=favList.length,pageCount=Math.ceil(menuChannelCount/pageItems)):pageCount=Math.ceil(channelCount/pageItems),n==pageCount?tailItems=menuChannelCount-(n-1)*pageItems:tailItems=pageItems,countStart=(n-1)*pageItems,countStop=countStart+tailItems);var a=0,r="",s="",c="";for(chanPiconLength=38,epgInfo=epgData,o=countStart;o<countStop;o++)if("All"!=activeGroup||!chData[o+1].favPos){var i="";if(allTimersArray[o+1]||(allTimersArray[o+1]=[]),jsonChNr=chData[o+1].chNr,jsonChUrl=chData[o+1].chUrl,arcUrlCheck=chData[o+1].chUrl,jsonLogoSmall=chData[o+1].logoSmall,jsonLogo=chData[o+1].logo,jsonArc=chData[o+1].chArc,jsonDvbNr=chData[o+1].dvbNr?chData[o+1].dvbNr:"","All"==activeGroup&&1!=chData[o+1].pos&&0!=chData[0])for(var h=0;h<chData[0].length;h++){if(chData[o+1].pos==chData[0][h].pos+1){r="",s='<span class="fs_eachGroupItem"></span>';break}r="",s=""}if(null!=chData[o+1].chName?chanName=chData[o+1].chName:chanName="",null!=epgInfo.epg1[jsonChNr])chanEPG=epgInfo.epg1[jsonChNr],menuChLeft=Math.ceil((epgInfo.start2[jsonChNr]+3600*DST-currentDate.getTime()/1e3)/60),menuChLength=(epgInfo.start2[jsonChNr]-epgInfo.start1[jsonChNr])/60,chanLeft="+"+menuChLeft,barBorder=" barBorder",barSize='style="width:'+(menuChLength-menuChLeft)/menuChLength*100+'%; max-width: 100%;"';else if("avi"==chData[o+1].chNr)if(chanNumber="",chanEPG=chData[o+1].chUrl,chanEPGArray=chanEPG.split("/"),chanEPG=chanEPGArray[chanEPGArray.length-1],chanEPG=chanEPG.replace("watch?v=",""),chanLeft="",barBorder="",barSize="",localStorage_getItem(chData[o+1].chUrl)){i='<span class="fs_eachWatchedItem"><img src="images/new/ch_watched.png" /></span>';try{videoData=JSON.parse(localStorage_getItem(chData[o+1].chUrl))}catch(e){console.log(e),localStorage_removeItem(chData[o+1].chUrl)}"object"==typeof videoData&&(videoPlayed=videoData.saved,videoLength=videoData.total,videoData.saved>0&&(barBorder=" barBorder",barSize='style="width:'+videoPlayed/videoLength*100+'%; max-width: 100%;"'),chanEPG="["+timeConvert(videoData.total)+"] - "+chanEPG,videoData.title&&0!=videoData.title&&(chanName=decodeURIComponent(videoData.title)))}else i="";else"dvb-"==jsonDvbNr.substr(0,4)||"dvbt-"==jsonDvbNr.substr(0,5)||"dvbc-"==jsonDvbNr.substr(0,5)||"dvba-"==jsonDvbNr.substr(0,5)||"dvbs-"==jsonDvbNr.substr(0,5)?(chanEPG=jsonDvbNr.toUpperCase(),chanLeft="",barBorder="",barSize=""):"noepg"==chData[o+1].chNr?(chanEPG="No EPG code set, please check codes.siptv.app",chanLeft="",barBorder="",barSize=""):(chanEPG="",chanLeft="",barBorder="",barSize="");if(-1!=jsonChUrl.indexOf("youtube.com")||-1!=jsonChUrl.indexOf("youtu.be")?chanPicon='<img src="'+imagesPath+'icons/youtube.png">':-1!=jsonChUrl.indexOf("vk.com")||-1!=jsonChUrl.indexOf("vkontakte.com")?chanPicon='<img src="'+imagesPath+'icons/vk.png">':"avi"==chData[o+1].chNr?(chanPicon='<img src="'+imagesPath+'icons/avi.png">',chanPiconLength=38):-1!=epgIconsSmallHi.indexOf(jsonChNr)&&"dvb"!=jsonChNr&&"ext"!=jsonChNr?(chanPicon='<img src="'+iconsPath+"icons_hi/small_hi/"+jsonChNr+'.png">',chanPiconLength=38):-1!=epgIconsSmall.indexOf(jsonChNr)&&"dvb"!=jsonChNr&&"ext"!=jsonChNr?(chanPicon='<img src="'+iconsPath+"icons/small/"+jsonChNr+'.png">',chanPiconLength=38):jsonLogoSmall&&"dvb"!=jsonChNr?chanPicon='<img src="'+jsonLogoSmall+'" onError="this.onerror=null;this.src='+imagesPath+"'icons/small/tvg_logo.png';\" />":jsonLogo&&"dvb"!=jsonChNr?chanPicon='<img src="'+jsonLogo+'" onError="this.onerror=null;this.src='+imagesPath+"'icons/small/tvg_logo.png';\" />":"dvb-"==jsonDvbNr.substr(0,4)||"dvbt-"==jsonDvbNr.substr(0,5)||"dvba-"==jsonDvbNr.substr(0,5)?(chanPicon='<img src="'+imagesPath+'icons/small/dvb.png">',chanPiconLength=38):"dvbc-"==jsonDvbNr.substr(0,5)?(chanPicon='<img src="'+imagesPath+'icons/small/dvbc.png">',progSize='style="display: block;',barSize=""):"dvbs-"==jsonDvbNr.substr(0,5)?(chanPicon='<img src="'+imagesPath+'icons/small/dvbs.png">',chanPiconLength=38):(trimmedChanName=chanName.substring(0,2),chanPicon='<div class="fs_blankIcon">'+trimmedChanName+"</div>"),chanClass=o+1==t?"fs_eachMenuSelected":"fs_eachMenuDefault","Favourites"==activeGroup?chanPos=chData[o+1].favPos:chanPos=o+1,chData[o+1].pos<10&&o+1<10||chData[o+1].favPos<10&&"Favourites"==activeGroup?chNumStyle='style="width: 32px; text-align: center;"':chNumStyle="",-1!=favList.indexOf(sortSet?chData[o+1].origPos:chData[o+1].pos)&&"Favourites"!=activeGroup)favIconValue='<span class="fs_eachFavItem">&#9733;</span>';else if(favList.length>0&&"Favourites"!=activeGroup)for(var l=0;l<favList.length;l++){if(favList[l].chUrl==chData[o+1].chUrl&&favList[l].chNr==chData[o+1].chNr){favIconValue='<span class="fs_eachFavItem">&#9733;</span>';break}favIconValue=""}else favIconValue="";if(jsonArc)c=favIconValue?'<span class="fs_eachArcItem_1">&bull;</span>':'<span class="fs_eachArcItem_2">&bull;</span>';else e:for(e=0;e<epgArchive.length;e++)for(arcCheck=epgArchive[e].check,arcArray=epgArchive[e].channels,f=0;f<arcCheck.length;f++){if(-1!=arcUrlCheck.indexOf(arcCheck[f])&&-1!=arcArray.indexOf(jsonChNr)){if(chData[o+1].chArc=15,favIconValue){c='<span class="fs_eachArcItem_1">&bull;</span>';break e}c='<span class="fs_eachArcItem_2">&bull;</span>';break e}c=""}allTimersArray[o+1].length>0?favIconValue&&c?(timerIconValue='<span class="fs_eachTimerItemList1">&bull;</span>',c='<span class="fs_eachArcItem_3">&bull;</span>'):!favIconValue&&c?(timerIconValue='<span class="fs_eachTimerItemList3">&bull;</span>',c='<span class="fs_eachArcItem_2">&bull;</span>'):favIconValue&&!c?(timerIconValue='<span class="fs_eachTimerItemList1">&bull;</span>',c=""):(timerIconValue='<span class="fs_eachTimerItemList2">&bull;</span>',c=""):timerIconValue="",$("#fs_MenuContainer").append("<div id="+(o+1)+' class="'+chanClass+'" style="top: '+38*a+'px;">\t\t\t\t\t<span id="'+(o+1)+'_innerObjNo" class="fs_eachMenuNo'+r+'"'+chNumStyle+">"+chanPos+s+'</span>\t\t\t\t\t<span id="'+(o+1)+'_innerObjPicon" class="fs_eachMenuPicon">'+chanPicon+i+'</span>\t\t\t\t\t<span id="'+(o+1)+'_innerObjName" class="fs_eachMenuName">'+chanName+timerIconValue+favIconValue+c+'</span>\t\t\t\t\t<span id="'+(o+1)+'_innerObjEPG" class="fs_eachMenuEPG" style="color:'+selectedEPGColor+';">'+chanEPG+'</span>\t\t\t\t\t<span id="'+(o+1)+'_innerObjProgress" class="fs_eachMenuProgress'+barBorder+'">\t\t\t\t\t\t<span class="fs_progSpan" '+barSize+'></span>\t\t\t\t\t</span>\t\t\t\t\t<span id="'+(o+1)+'_innerObjLeft" class="fs_eachMenuLeft">'+chanLeft+"</span>\t\t\t\t</div>"),a++,totalCharLength=$("#"+(o+1)+"_innerObjNo").width()+chanPiconLength+$("#"+(o+1)+"_innerObjName").width()+$("#"+(o+1)+"_innerObjLeft").width(),epgLength=maxEPGLength-totalCharLength,$("#"+(o+1)+"_innerObjEPG").css("width",epgLength)}$("#fsMenuProgress").show(),"All"!=activeGroup&&activeGroupLength>pageItems||"All"==activeGroup&&menuChannelCount>pageItems?($("#progRunner").show(),$("#progRunner").css("height",38*pageItems/pageCount+"px"),$("#progRunner").css("top",38*pageItems/pageCount*(n-1)+"px")):$("#progRunner").hide(),menuJqEvents(),marqueeTimeout=setTimeout(marqueeOn,600),mouseOn=!1,"All"!=activeGroup&&0!=chanGroups?("Favourites"==activeGroup?$("#topGroupName").html('<div id="favIcon">&#9733;</div>'+activeGroup):"DVB Channels"==activeGroup?$("#topGroupName").html('<div id="dvbIcon"></div>'+activeGroup):$("#topGroupName").html('<div id="groupIcon"></div>'+activeGroup),$("#topGroupName").show(),$("#fsGreenButton").show(),$("#fsBlueButton").show(),$("#fsInfoButton").show(),$("#fsRedButton").show()):($("#topGroupName").html('<div id="groupIcon"></div>All channels'),$("#topGroupName").show(),$("#fsGreenButton").show(),$("#fsBlueButton").show(),$("#fsInfoButton").show(),$("#fsRedButton").show()),"Favourites"==activeGroup?$("#fsRedButton span").html("Remove"):$("#fsRedButton span").html("Favourite")}function marqueeOn(){var e=chanSelected,n=$("#"+e+"_innerObjEPG").textWidth(),t=$("#"+e+"_innerObjEPG").width();n>t&&($("#"+e+"_innerObjEPG").addClass("marquee"),marqueeEPG(t))}function marqueeOff(){$(".js-marquee").unwrap(),$(".js-marquee:first").remove(),$(".js-marquee").contents().unwrap(),$("[class*=marquee]").removeClass("marquee"),clearTimeout(marqueeTimeout)}function marqueeEPG(e){$(".marquee").marquee({duplicated:!0,duration:6e3,gap:e/3,delayBeforeStart:0,direction:"left"})}function marqueeCalc(e){var n=$("#"+e+"_innerObjEPG").textWidth(),t=$("#"+e+"_innerObjEPG").width();n>t&&($("#"+e+"_innerObjEPG").addClass("marquee"),marqueeEPG(t))}function mouseChanSelector(){$(".fs_eachMenuDefault, .fs_eachMenuSelected").hover(function(){$("[class*=fs_eachMenuSelected]").toggleClass("fs_eachMenuSelected fs_eachMenuDefault"),clearTimeout(marqueeTimeout),$(this).attr("class","fs_eachMenuSelected"),hoverID=this.id,chanSelected=Number(hoverID),mousePrevSelected=$("#"+hoverID).attr("id"),marqueeTimeout=setTimeout(function(){marqueeCalc(hoverID)},600),$("#"+hoverID+"_innerObjNo").html();var e=$("#"+hoverID+"_innerObjNo").width();"Favourites"!=activeGroup?'<span class="favStar">?</span>'!=$("#"+hoverID+"_innerObjNo").html()&&'<span class="favStar">?</span>'!=$("#"+hoverID+"_innerObjNo").html()&&($("#"+hoverID+"_innerObjName").find(".fs_eachFavItem").is("visible")||$("#"+hoverID+"_innerObjName").find(".fs_eachFavItem").css("display"),$("#"+hoverID+"_innerObjNo").html('<span class="favStar mouseOver">?</span>')):$("#"+hoverID+"_innerObjNo").html('<span class="favStar mouseOver remove">&#215;</span>'),$("#"+hoverID+"_innerObjNo").width(e),$("#"+hoverID+"_innerObjLeft").html()&&($("#"+hoverID+"_innerObjLeft span").hasClass("mouseOver")||(infoPrevSelected=$("#"+hoverID+"_innerObjLeft").html()),$("#"+hoverID+"_innerObjLeft").html('<span class="infoMouse mouseOver"></span>'),$("#"+hoverID+"_innerObjProgress").hasClass("mouseOver")||(epgInfoPrevSelected=$("#"+hoverID+"_innerObjProgress").html()),$("#"+hoverID+"_innerObjProgress").removeClass("fs_eachMenuProgress barBorder").addClass("epgMouse mouseOver"),$("#"+hoverID+"_innerObjProgress").html(""))},function(){$(this).attr("class","fs_eachMenuDefault"),hoverID=this.id,$("#"+hoverID+"_innerObjProgress").children(".fs_progSpan").css("background","rgb(162,162,162)"),marqueeOff(),$("#"+mousePrevSelected+"_innerObjNo").find(".mouseOver").length&&$("#"+mousePrevSelected+"_innerObjNo").html("Favourites"==activeGroup?chData[mousePrevSelected].favPos:chData[mousePrevSelected].pos),$("#"+hoverID+"_innerObjLeft").html()&&($("#"+mousePrevSelected+"_innerObjLeft").html(infoPrevSelected),$("#"+hoverID+"_innerObjProgress").removeClass("epgMouse mouseOver").addClass("fs_eachMenuProgress barBorder"),$("#"+mousePrevSelected+"_innerObjProgress").html(epgInfoPrevSelected))})}function menuJqEvents(){$(".fs_eachMenuDefault, .fs_eachMenuSelected").click(function(){var e=$(event.target).attr("class");if("epgMouse mouseOver"==e)n=Number($(this).attr("id")),chanSelected=n,arcFromMenu=!0,arcActivate();else if("infoMouse mouseOver"==e)n=Number($(this).attr("id")),chanSelected=n,chListEPGShow();else{var n=$(this).attr("id");chanSelected=Number(n),channelLaunch()}}),$(".fs_eachMenuNo").click(function(e){e.stopPropagation(),$(this).children().removeClass("mouseOver"),chanID=$(this).parent().attr("id"),chanSelected=Number(chanID),"Favourites"!=activeGroup?addFavourite():removeFavourite(!0)})}function unbindFsClickEvents(){$(".fs_eachMenuDefault, .fs_eachMenuSelected").off()}function chanSelector(e){marqueeOff(),$(".fs_eachMenuDefault, .fs_eachMenuSelected").unbind("mouseenter mouseleave"),$("#"+chanSelected).attr("class","fs_eachMenuDefault"),$("#"+chanSelected+"_innerObjEPG").attr("class","fs_eachMenuEPG"),$("#"+chanSelected+"_innerObjProgress").hasClass("epgMouse mouseOver")&&($("#"+chanSelected+"_innerObjNo").html(chData[chanSelected]?chData[chanSelected].pos:chData[chanSelected-1].pos),$("#"+chanSelected+"_innerObjLeft").html(infoPrevSelected),$("#"+chanSelected+"_innerObjProgress").removeClass("epgMouse mouseOver").addClass("fs_eachMenuProgress barBorder"),$("#"+chanSelected+"_innerObjProgress").html(epgInfoPrevSelected)),mouseOn=!1,chanSelected+=e,chanSelected==activeGroupStart&&-1==e&&(chanSelected=menuChannelCount,pgNr=pageCount,loadMenu(pgNr,chanSelected)),chanSelected>menuChannelCount&&1==e&&(chanSelected=activeGroupStart+1,pgNr=1,loadMenu(pgNr,chanSelected)),chanSelected>menuChannelCount&&(chanSelected=menuChannelCount),chanSelected-activeGroupStart<1&&(chanSelected=activeGroupStart+1),(chanSelected-activeGroupStart-1)/pgNr-pageItems==0&&1==e&&pageSelector(1),(chanSelected-activeGroupStart)/(pgNr-1)-pageItems<=0&&-1==e&&pageSelector(-1),$("#"+chanSelected).attr("class","fs_eachMenuSelected"),marqueeTimeout=setTimeout(marqueeOn,600)}function pageSelector(e){marqueeOff(),pgNr+=e,0==pgNr&&(pgNr=1),pgNr>pageCount&&(pgNr=pageCount),pgNr>=1&&-1==e&&loadMenu(pgNr,chanSelected),pgNr<=pageCount&&1==e&&loadMenu(pgNr,chanSelected)}function fsPageUp(){pageSelector(1),chanSelector(pageItems)}function fsPageDown(){pageSelector(-1),chanSelector(-1*pageItems)}function channelLaunch(){chData[chanSelected].par&&"on"!=sessionStorage.getItem("parentCode")?(mouseOn||$("#infoBar").hide(),parentalCheck()):(chData[chanSelected].chUrl,"avi"==chData[chanSelected].chNr?(localStorage_setItem("realChanNr",chanSelected),chDataLoaded&&(localStorage_setItem("playerEntry","fullscreen"),restoreLocation()),window.location="player.html?chan="+chData[chanSelected].pos):(localStorage_setItem(menuChannelCookie,chanSelected),clearTimeout(ibarTimeOut),MenuExecuted&&menuDeactivate(),refreshStream()))}function chanDescriptionScroll(e){$(document).keydown(function(e){switch(e.which){case 40:infoScrollDown(40);break;case 38:infoScrollUp(40)}})}function infoMouseScroll(){containerOn&&(window.event.wheelDelta>0?infoScrollUp(40):infoScrollDown(40))}function infoScrollUp(e){1==containerOn&&(scrollPosition-=e,scrollPosition<=0&&(scrollPosition=0,$("#infoFaderTop").hide()),$("#channelInfoContent").scrollTop(scrollPosition),calcProgMovement(),$("#infoProgRunner").css("top",progMovement+"px"),event.preventDefault())}function infoScrollDown(e){1==containerOn&&(scrollPosition+=e,scrollPosition+chanInfoHeight>progScrollHeight&&(scrollPosition=progScrollHeight-chanInfoHeight,$("#infoFaderBottom").hide()),$("#channelInfoContent").scrollTop(scrollPosition),calcProgMovement(),$("#infoProgRunner").css("top",progMovement+"px"),event.preventDefault())}function calcProgMovement(){progMovement=Math.round($("#channelInfoProgress").height()*$("#channelInfoContent").scrollTop()/progScrollHeight)}function chanDescriptionScrollReset(){$("#channelInfoContent").scrollTop(0),valueIncrement=0,containerOn=!1}favSetMouse=!1;var parentNumberKeyInput="";function parentalCheck(){parentHide("init"),parentExecuted=!0,chData[chanSelected].par&&"on"!=sessionStorage.getItem("parentCode")&&parAttempts<maxParAttempts?($("#parentPopUpOuter").show(),mouseOn&&$("#parentKeyboard").show(),$("#parentPopUp").css("top",($("#parentPopUpOuter").outerHeight()-$("#parentPopUp").outerHeight())/2),parentKeyEvents()):(parentExecuted=!1,showToast("Channel locked!"))}function parentKeyPress(e){clearTimeout(numberKeyTimer),1==parentNumberKeyInput.length?parentNumberKeyField(parentNumberKeyInput+=e):2==parentNumberKeyInput.length?parentNumberKeyField(parentNumberKeyInput+=e):3==parentNumberKeyInput.length?(parentNumberKeyField(parentNumberKeyInput+=e),numberKeyTimer=setTimeout(parentKeySubmit,500)):parentNumberKeyField(parentNumberKeyInput=""+e)}function parentNumberKeyField(e){for($("#parentPIN").html(e),i=0;i<4-e.length;i++)$("#parentPIN").append("�")}function parentKeySubmit(){clearTimeout(numberKeyTimer),parAttempts+=1,"����"==$("#parentPIN").html()||parAttempts==maxParAttempts?parentHide():parentNumberKeyInput==chData[chanSelected].par?(sessionStorage.setItem("parentCode","on"),parentNumberKeyInput="",parentHide("init"),channelLaunch()):($("#parentPIN").html("����"),parentNumberKeyInput="")}function parentHide(e){$("#parentKeyboard").hide(),$("#parentPopUpOuter").hide(),MenuExecuted?($("#parentPopUpOuter").css("background","rgba(0,0,0,0.75)"),fsMenuKeyEvents()):("init"!=e&&(chanSelected=prevChanSelected,localStorage_setItem(menuChannelCookie,chanSelected),groupJumpCheck(),showToast("Channel locked!")),$("#parentPopUpOuter").css("background","none"),rebindKeys()),$(".parentNumKey").unbind(),$(".parentCtrlKey").unbind(),parentNumberKeyInput="",parentExecuted=!1,mouseOn=!1,keyNrOn=!1,numKeyActive=!1,lastNumKeyStep=3,$("#parentPIN").html("����"),$(".parentNumKey").removeClass("selected")}function chListEPGShow(){chInfoExecuted=!0,chListGetSingleEPG()}function chListEPGHide(){$("#chListEPGPopUpOuter").hide(),$("#menu_channelInfoDesc").css("height",0),$("#menu_channelInfoProgress").hide(),$("#menu_progress").css("visibility","hidden"),$("#menu_infoFaderTop, #menu_infoFaderBottom").hide(),$("#menu_infoProgRunner").css("top",0),chInfoExecuted=!1,fsMenuKeyEvents(),$(document).unbind("mousewheel"),$(document).bind("mousewheel",function(e,n){mouseScroll()})}function chListGetSingleEPG(){$.ajax({method:"GET",url:epgPath+"get_epg_single.php",data:{channel:chData[chanSelected].chNr,ch_name:chData[chanSelected].chName,epgId:epgId},dataType:"json"}).done(function(e){if(!e)return!1;var n=Number(e.start1)+3600*DST,t=Number(e.start2)+3600*DST,o=Number(e.start2)+3600*DST,a=Number(e.stop2)+3600*DST,r=(o-n)/60,s=Math.ceil((o-currentDate.getTime()/1e3)/60),c=(Math.ceil((a-t)/60),e.epg1),i=e.epg2;$("#menu_channelInfoTitle").html(c),$("#menu_channelInfoNext").html(i),null!=e.description&&""!=e.description?$("#menu_channelInfoDesc").html("<p>"+e.description+"</p>"):$("#menu_channelInfoDesc").html("<p></p>"),n=new Date(1e3*n),t=new Date(1e3*t),o=new Date(1e3*o),a=new Date(1e3*a),epgTotal1=(o-n)/6e4,epgTotal2=(a-t)/6e4,epgStart1Hours=n.getHours(),epgStart1Hours<10&&(epgStart1Hours="0"+epgStart1Hours),epgStart1Minutes=n.getMinutes(),epgStart1Minutes<10&&(epgStart1Minutes="0"+epgStart1Minutes),epgStart2Hours=t.getHours(),epgStart2Hours<10&&(epgStart2Hours="0"+epgStart2Hours),epgStart2Minutes=t.getMinutes(),epgStart2Minutes<10&&(epgStart2Minutes="0"+epgStart2Minutes),epgStop1Hours=o.getHours(),epgStop1Hours<10&&(epgStop1Hours="0"+epgStop1Hours),epgStop1Minutes=o.getMinutes(),epgStop1Minutes<10&&(epgStop1Minutes="0"+epgStop1Minutes),epgStop2Hours=a.getHours(),epgStop2Hours<10&&(epgStop2Hours="0"+epgStop2Hours),epgStop2Minutes=a.getMinutes(),epgStop2Minutes<10&&(epgStop2Minutes="0"+epgStop2Minutes),n=epgStart1Hours+":"+epgStart1Minutes,o=epgStop1Hours+":"+epgStop1Minutes,t=epgStart2Hours+":"+epgStart2Minutes,a=epgStop2Hours+":"+epgStop2Minutes,$("#menu_Time1").html(n+" - "+o+"&nbsp;&nbsp;/&nbsp;&nbsp;"+epgTotal1+" min&nbsp;&nbsp;/&nbsp; +"+s+" min"),$("#menu_Time2").html(t+" - "+a+"&nbsp;&nbsp;/&nbsp;&nbsp;"+epgTotal2+" min"),setTimeout(function(){if(progressDimensions=$("#menu_Time1").width(),s>=0){var e=r/r*progressDimensions;$("#menu_progress").css({width:e,"max-width":"100%"});var n=Math.round((r-s)/r*progressDimensions);$("#menu_bar").css({width:n,"max-width":"100%"}),$("#menu_progress").css("visibility","visible")}},0),fsChListEPGKeyEvents(),chListEPGPosition(),chListProgressBarPosition(),menuChanDescriptionScroll(),$(document).unbind("mousewheel"),$(document).bind("mousewheel",function(e,n){menuInfoMouseScroll()})})}function chListClearEPG(){$("#menu_channelInfoTitle").html(""),$("menu_channelInfoNext").html(""),$("#menu_channelInfoTitle").html(""),$("#menu_channelInfoDesc").html(""),$("#menu_channelTime1").html(""),$("#menu_channelTime2").html(""),$("#menu_channelLeft1").html(""),$("#menu_channelLeft2").html(""),$("#menu_progress").css({width:0}),$("#menu_bar").css({width:0})}function chListEPGPosition(){$("#chListEPGPopUpOuter").show(),$("#menu_channelInfoDesc").css("height","auto"),totalHeight=$("#chListEPGPopUpOuter").outerHeight(),contentHeight=$("#menu_channelInfo").outerHeight(),contentFromTop=(totalHeight-contentHeight)/2,$("#menu_channelInfo").css("top",contentFromTop)}function chListProgressBarPosition(){nonDescriptiveItemsHeight=$("#menu_channelInfoTitle").outerHeight()+$("#menu_channelInfoTime").outerHeight()+$("#menu_channelInfoNext").outerHeight()+$("#menu_Time2").outerHeight(),descriptionContentHeight=contentHeight-58-nonDescriptiveItemsHeight,originalDescContentHeight=$("#menu_channelInfoDesc p").outerHeight(),progScrollHeight=$("#menu_channelInfoDesc")[0].scrollHeight,$("#menu_channelInfoDesc").css("height",descriptionContentHeight),$("#menu_infoProgBack").css("height",descriptionContentHeight),originalDescContentHeight>descriptionContentHeight&&descriptionContentHeight>0?(progScrollHeight=$("#menu_channelInfoDesc")[0].scrollHeight,chanInfoHeight=$("#menu_channelInfoDesc").height(),infoProgRunnerHeight=Math.floor(chanInfoHeight/progScrollHeight*$("#channelInfoProgress").height()),$("#menu_infoProgRunner").css("height",infoProgRunnerHeight+"px"),scrollPosition=0,$("#menu_channelInfoDesc").scrollTop(0),$("#imenu_nfoProgRunner").css("top","0"),$("#menu_channelInfoProgress").show(),$("#menu_infoFaderBottom").show()):(infoProgRunnerHeight=0,$("#menu_channelInfoProgress").hide()),-1!=epgIconsHi.indexOf(chData[chanSelected].chNr)?$("#menu_DescIcon").html('<img src="'+iconsPath+"icons_hi/"+chData[chanSelected].chNr+'.png">'):-1!=epgIcons.indexOf(chData[chanSelected].chNr)?$("#menu_DescIcon").html('<img src="'+iconsPath+"icons/"+chData[chanSelected].chNr+'.png">'):chData[chanSelected].logoSmall?$("#menu_DescIcon").html('<img src="'+chData[chanSelected].logoSmall+'" onError="this.onerror=null;this.src='+imagesPath+"'icons/small/tvg_logo.png';\" />"):chData[chanSelected].logo?$("#menu_DescIcon").html('<img src="'+chData[chanSelected].logo+'" onError="this.onerror=null;this.src='+imagesPath+"'icons/small/tvg_logo.png';\" />"):$("#menu_DescIcon").html("")}function menuChanDescriptionScroll(){scrollPosition=0,descriptionContentHeight>0&&$(document).keydown(function(e){switch(e.which){case VK_DOWN:menuInfoScrollDown(40);break;case VK_UP:menuInfoScrollUp(40)}})}function menuInfoMouseScroll(){descriptionContentHeight>0&&(window.event.wheelDelta>0?menuInfoScrollUp(40):menuInfoScrollDown(40))}function menuInfoScrollDown(e){scrollPosition+=e,scrollPosition>0&&infoProgRunnerHeight>0&&$("#menu_infoFaderTop").show(),scrollPosition+descriptionContentHeight>=originalDescContentHeight&&(scrollPosition=originalDescContentHeight-descriptionContentHeight,$("#menu_infoFaderBottom").hide()),$("#menu_channelInfoDesc").scrollTop(scrollPosition),menuCalcProgMovement(),$("#menu_infoProgRunner").css("top",progMovement+"px"),event.preventDefault()}function menuInfoScrollUp(e){scrollPosition-=e,infoProgRunnerHeight>0&&$("#menu_infoFaderBottom").show(),scrollPosition<=0&&(scrollPosition=0,$("#menu_infoFaderTop").hide()),$("#menu_channelInfoDesc").scrollTop(scrollPosition),menuCalcProgMovement(),$("#menu_infoProgRunner").css("top",progMovement+"px"),event.preventDefault()}function menuCalcProgMovement(){progMovement=Math.floor(descriptionContentHeight*scrollPosition/progScrollHeight),infoProgRunnerHeight+progMovement>descriptionContentHeight&&(progMovement=descriptionContentHeight-infoProgRunnerHeight)}function menuChanDescriptionScrollReset(){$("#menu_channelInfoDesc").scrollTop(0)}function timeConvert(e){e=Number(e);var n=Math.floor(e/3600),t=Math.floor(e%3600/60),o=Math.floor(e%3600%60);return(n>0?n+":":"")+(t>0?(n>0&&t<10?"0":"")+t+":":"0:")+(o<10?"0":"")+o}